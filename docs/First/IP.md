---
layout: default
title: IP
parent: Network
nav_order: 1
---
# IP

처음 회사를 입사를 했을때 새 PC를 받고 IP를 할당받았다. 192.168.0.10번의 고정IP를 받고나서 선임이 PC네트워크 세팅을 도와준다.

`고정IP`니 `DHCP`니 `서브넷마스크`니 `게이트웨이`니 새로운 단어들이 쏟아지지만, 내가 아는건 내 PC의 주소라는 책에서 읽은 IP의 정의 한줄뿐이고, Naver에 "내 IP 찾기"로 검색해서 IP를 확인하는것밖에는 아는게 없었다.

그래서 먼저 192.168.0.10이라는 숫자가 어떻게 만들어지는지 간단하게 알아보았다.

IP의 정의는 '네트워크상에서 장치를 식별할수 있는 고유번호'. 쉽게말해서 죄수번호처럼 나를 식별할 수 있는 고유번호이다.

이 번호는 어떻게 만드는것이냐. 컴퓨터는 이진수를 사용하므로 각 자릿수에는 8비트 2^8 인 256까지의 숫자를 사용할수 있고, 0부터시작해서 각자릿수에 0~255까지의 숫자를 부여받을수 있다.
즉, 0.0.0.0 부터 255.255.255.255까지의 주소 범위에서 자동차 번호판 받듯이 내 IP를 가질수 있다.

그럼 자동차번호판 1111처럼 내번호도 0.0.0.0을 가지고싶은데 받을수 있을까?? 아쉽지만 프로그램언어에서의 예약어처럼 이 IP들도 내IP로는 가질수가 없다.

앞자리만이라도 0.x.x.x 또는 뒷자리라도 x.x.x.0 을 가지고 싶다고 하더라도 마찬가지로 레어넘버들은 이미 예약이 꽉차있다.


그런데 전세계 인구가 70억이 넘고 나만하더라도 회사에 피시한대, 집에한대, 노트북하나 3대나 쓰는데, IP숫자는 2^32, 4,294,967,296 로 한참 부족한데 어떻게 할까?

우리끼리 그룹를 구성해서 우리 그룹장 한명만 외부에서 번호를 받고 안에서는 우리끼리 다시 번호를 재구성하는것이다. 이를 `NAT, Network Address Translation`라고 한다.

우리그룹을 대표하는 그룹장을 `게이트웨이` 라고하고, 외부에서 우리그룹을 부르는 고유번호를 `공인IP`, 우리끼리 번호를 재구성해서 받는 IP를 `내부IP`라고 한다.

가장 흔하게 볼수 있는 NAT 역할을 하는 장치가 `공유기`이다.

우리 회사에서도 건물에서 할당받은 외부IP(건물입장에서는 내부IP, 공유기입장에서는 외부IP)로 공유기를 연결하고, 각 직원 PC로 공유기에서 랜선을 뽑아서 연결을해서 사용을 했다.

여기서 공유기에게 내가 192.168.0.10을 내가 쓰겠다!! 라고하면 고정IP할당방식 인것이고, 공유기가 주시는대로 받아서 쓰겠습니다 라고 한다면 동적IP할당방식(`DHCP`)인 것이다.



